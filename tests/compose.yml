version: "3.9"

include:
  - path: ./tests/cloudbeaver/compose.yml
  - path: ./tests/flog/compose.yml
  - path: ./tests/hello/compose.yml
  - path: ./tests/mailhog/compose.yml
  - path: ./tests/oauth/compose.yml
  - path: ./tests/php-fpm/compose.yml
  - path: ./tests/populator/compose.yml
  - path: ./tests/whoami/compose.yml

# services:
  # ngrok:
  #   platform: linux/arm64
  #   build:
  #     context: docker
  #     dockerfile: Dockerfile.ngrok
  #   container_name: ngrok

  # TODO: add statsd debug container
  # STATSD_ADDR=host.docker.internal:8125
  # docker run -p 8125:8125/udp dasch/statsd-debug

  # tcpdump:
  #   image: nicolaka/netshoot
  #   container_name: tcpdump
  #   depends_on:
  #     - mastodon
  #   command: tcpdump -i eth0 -w /data/mastodon.pcap
  #   network_mode: service:mastodon
  #   networks:
  #     - internal
  #   volumes:
  #     - $PWD/data:/data
  #   logging:
  #     driver: fluentd
  #     options:
  #       fluentd-address: 127.0.0.1:24224
  #       tag: service.tcpdump
  #   labels:
  #     logging: 'promtail'
  #     logging_jobname: 'containerlogs'
